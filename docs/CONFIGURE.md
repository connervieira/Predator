# Configuration

This document describes the configuration values found `config.json`.


- `general` contains configuration values will effect Predator's general operation.
    - `working_directory` specifies the default directory that Predator will use to persistently store files.
        - This value can be over-ridden using command line arguments.
        - In management mode and pre-recorded mode, this value serves as a default, but can be over-ridden by user input.
        - In real-time mode and dash-cam mode, this value will be automatically used without user input.
    - `interface_directory` specifies the directory that predator will store files used to share real-time information with external programs.
        - This value is only used in real-time and dashcam mode.
        - This directory does not need to be persistent, and can be stored in volatile memory for sake of endurance.
        - Setting this to a blank string will disable the interface directory.
    - `alpr` contains settings related to license plate recognition.
        - `engine` is a string that determines what ALPR engine Predator will use.
            - This can be set to either `"openalpr"` or `"phantom"`.
        - `validation` contains settings for validating license plate candidates/guesses.
            - `guesses` is an integer that determines how many guesses the ALPR engine will make when analyzing a plate.
                - The higher this number is, the more likely Predator is to guess a plate incorrectly. The lower this number is, the less likely Predator will be to find a valid guess at all.
            - `confidence` is a number that determines the minimum confidence a license plate guess needs to have before Predator will consider it valid, where 100 is extreme confidence and 0 is a complete lack of confidence.
                - This value is ignored by alerts when `general>alerts>alerts_ignore_validation` is enabled.
            - `best_effort` is a boolean that determines whether Predator will accept the most confident guess when none of the guesses are considered valid by the validation rules.
                - This setting can override both the license plate validation format, as well as the minimum confidence threshold.
                - When set to `false`, Predator will discard plates that don't have any valid guesses.
                - This setting does not override `general>alerts>alerts_ignore_validation`, and can be set to `false` without interfering with license plate hot-list alerts.
                - This value does not effect which license plates are logged to disk as configured in the `realtime>saving` configuration section.
            - `license_plate_format` is a list of strings that provide Predator with examples of how license plates in your region should be formatted.
                - For example, license plates in the state of Ohio generally follow the pattern of 3 letters followed by 4 numbers. In Ohio, this preference might contain `"AAA0000"` to filter out plate guesses that don't match the most common formatting pattern.
                - This preference only considers the type of each character, not the character itself.
                    - In other words, `AAA0000` and `ABC1234` will function identically.
                    - This also means you can simply enter any given plate from a car located in the region you're scanning in to have a reasonably good chance at matching your region's formatting guidelines for license plates.
                - Leaving this as an empty list (a list with a length of 0) will disable license plate format validation.
    - `alerts` contains settings related to license plate alerts.
        - `alerts_ignore_validation` is a boolean that determines whether alerts will respect or ignore the plate validation format.
            - When this is set to `true`, if a plate fails the validation test, but matches an alert database plate, the alert will be displayed anyway.
            - When set to `false`, only plates that have passed the validation test will be checked against the alert database.
        - `allow_duplicate_alerts` is a boolean that determines whether a single license plate can trigger multiple alert rules.
            - Setting this to `true` will cause Predator to check all guesses against all alert rules. This can lead to situations where alert rules with wildcards cause a single license plate to alert repeatedly, for each of its guesses.
        - `databases` is a list that contains strings, with each string pointing to either a local or remote license plate hot-list.
            - If a particular entry in this list is a file, the file path should be relative to the working directory.
                - For example, if your alert database is in `/home/pi/Data/alerts.json`, and your working directory is `/home/pi/Data/`, then then the alert database value should simply be set to `"alerts.json"`, not the the full file path.
            - If a particular entry in this list is a remote source, the remote source should be a complete URL.
                - For example, an entry might be set to `"https://example.com/alerts.json"`.
            - To learn more about the alert database format, see the [docs/ALERTS.md](docs/ALERTS.md) document.
    - `display` contains settings related to what is displayed in the command line interface.
        - `ascii_art_header` is a boolean that determines whether or not Predator will display a large ASCII art banner on start up.
            - When set to `false`, the ASCII art banner will be replaced with a small, normal text title.
            - This setting may be useful to change in the event that Predator is being run on a device with a tiny display, where a large ASCII art header might cause formatting issues.
        - `startup_message` is a string used to set a custom start-up message that displays after the initial Predator start-up header.
        - `debugging_output` is a boolean that determines whether or not Predator will display debugging messages through-out normal operation.
            - When this is set to `true`, console clearing is automatically disabled.
    - `gps` contains settings that control Predator's GPS capabilities across all modes.
        - `enabled` is a boolean determines whether GPS features are enabled or disabled.
        - `demo_file` is a string that sets a GPX file that Predator will replay location information from for sake of demonstration.
            - This file path is relative to the working directory.
            - When this value is not empty, Predator will ignore live GPS information and instead play back the information from the GPX file.
            - The `general>gps>enabled` value should be set to `true` to use demo mode.
                - A real GPS does not need to be connected.
        - `time_correction` contains settings that control how Predator will use GPS information to correct the system date and time.
            - `enabled` is a boolean that determines whether Predator will apply a time offset to correct the system time if the difference between the GPS time and system time exceeds the configured threshold.
                - This function can only apply time correction if the system time has fallen behind the real time. It can't make corrections if the system time is in the future.
                - This feature may lead to unexpected behavior. For sake of stability, you should always try to resolve time desync problems at the source. Consider this feature a temporary fix.
            - `threshold` is the amount of time, measured in seconds, that the system time has to drift from the GPS time before Predator will issue a warning and apply a time offset.
        - `lazy_polling_interval` is a floating point number that determines the number of seconds between GPS polls when the GPS is operating in "lazy" mode.
            - Lazy mode is used when response time is more important than data recency.
                - Lazy mode is mainly used for the dash-cam overlay stamp.
            - This interval should generally correspond to the maximum refresh rate of your GPS. For example, if your GPS, can only refresh a 1Hz, you should set this to 1 (for 1 second). A 10 Hz GPS might use 0.1 (0.1 seconds between polls, or 10 polls per second).
    - `object_recognition` contains settings related to Predator's object recognition capabilities.
        - `enabled` is a boolean that determines whether or not object recognition is enabled globally.
            - Setting this to `false` removes Predator's dependency on Tensorflow.
    - `modes` contains settings related to Predator's operating modes.
        - `auto_start` is a string that determines which mode (if any) Predator will automatically load into upon start-up.
            - There are 4 possible values this can be set to, not including being left blank.
                - When set to an empty string, Predator will prompt the user to select a mode each time it starts. This is the default.
                - When set to `"0"`, Predator will skip the 'mode' prompt, and automatically boot into management mode.
                - When set to `"1"`, Predator will skip the 'mode' prompt, and automatically boot into pre-recorded mode.
                - When set to `"2"`, Predator will skip the 'mode' prompt, and automatically boot into real-time mode.
                - When set to `"3"`, Predator will skip the 'mode' prompt, and automatically boot into dash-cam mode.
        - `enabled` contains controls to enable and disable each operation mode of Predator.
            - When the value for a particular mode is set to `false`, that mode's option will be hidden from the mode selection menu shown to the user when Predator starts, and the auto-start-mode command line arguments won't allow the user to boot Predator directly to that mode.
            - Under normal circumstances, all of these settings should be left as 'true', in order to enable full functionality of Predator, but there may be certain situations in which is useful to block certain modes from starting.
                - This setting is not intended to a be a security feature. It's completely trivial to bypass this setting by simply modifying the configuration file directly.
                - If you never plan to use a particular operating mode, disabling it might decrease Predator's loading time by preventing unnecessary libraries from being loaded.
    - `status_lighting` contains settings for configuring Predator's status light interfacing capabilities.
        - `status_lighting_enabled` is a boolean value that determines whether or not Predator will attempt to make use of LED status lights
        - `status_lighting_base_url`
            - This is the base part of the URL that Predator will send requests to in order to update the status lighting.
            - By default, this setting is set to the default router IP address of the "WLED" lighting controller software. However, you should be able to modify it to fit any lighting controller software that supports GET network requests.
            - This is that value that precedes the `status_lighting_values` entries explained below.
        - `delay_after_boot` specifies a number of seconds to ignore all status lighting requests after boot.
            - If your lighting system starts up along-side Predator, you may need to wait for the controller to connect to the network before status light requests can be made. Otherwise, the first few requests will time-out.
            - Any status lighting request made within the delay will be ignored.
        - `status_lighting_values`
            - These are individual values that will be appended to the `status_lighting_base_url` setting described above in order to form the URL that Predator will send a request to.
            - This is where you specify what RGB colors Predator will use for each status indication.
                - The `normal` status is used when Predator is running, and no event has occurred.
                - The `alpr_alert` status is relevant in real-time mode, and is used when Predator detects a license plate in an alert database.
                - The `alpr_detection` status is relevant in real-time mode, and used when Predator detects any valid license plate.
                - The `dashcam_save` status is relevant to dash-cam mode, and is triggered when a dashcam video file is saved using the dashcam lock trigger file.
                    - The lighting will remain in the "dashcam_save" status until the segment has ended, and Predator returns to normal, unlocked recording.
    - `audio` contains settings that control audio play-back.
        - `enabled` is a boolean value that determines whether audio playback is enabled.
        - `player` contains settings for controlling how sounds are played.
            - `backend` sets the audio player back-end Predator will use.
                - This value can only be set to one of these values: "mpg321", "mplayer"
            - `mpg321` contains settings for the MPG321 player back-end (if it is selected).
            - `mplayer` contains settings for the MPlayer player back-end (if it is selected).
                - `device` is a string that specifies the audio device that will be used for audio playback.
                    - Leaving this value blank will use the default audio playback device.
        - `sounds` contains the sound effects that Predator can play when certain events occur.
            - Each entry in this section has 3 attributes.
                - The `path` value should be set to the file path of the audio file you want to play.
                - The `repeat` value should be set to how many times you want the sound effect to be repeated.
                    - To disable a sound from playing, set this to 0.
                    - Under normal circumstances, this value should just be "1", but there might be some cases in which you want to play a particular sound repeatedly.
                - The `delay` value determines how long Predator will wait, in seconds, between repetitions, if `reptition` is set to more than 1.
                    - Note that this delay includes the time it takes for the previous instances of the sound effect to play.
                    - For example, if the audio clip you're repeating takes 2 seconds to play, and you want a 1 second delay between audio clips, this setting should be 3 seconds.
                    - If the delay is set to zero, then all of the repetitions will play over top of each-other.
            - Each entry in this section corresponds to a sound effect.
                - `startup` is the sound played just after Predator finishes loading.
                - `alpr_notification` is the sound played when a valid plate is detected in real-time mode, and the plate is not in an alert database.
                - `alpr_alert` is the sound played when a valid plate is detected, and the plate is in an alert database.
                - `gps_connected` is played when the GPS finds a 2D or 3D location fix.
                - `gps_disconnected` is played when the GPS loses the fix.
                - `gps_fault` is played when the GPS encounters an error.
                - `message_notice` is played when a "notice" level message is displayed.
                - `message_warning` is played when a "warning" level message is displayed.
                - `message_error` is played when a "error" level message is displayed.
- `management` contains configuration values related to management mode.
    - `disk_statistics` is a boolean that enables and disables the disk statistics feature of management mode.
        - Setting this to `false` disables disk statistics, and eliminates the need for the 'psutil' Python package to be installed.
- `prerecorded` contains configuration values related to pre-recorded mode.
    - `image` contains settings related to image handling.
        - `processing` contains settings related to image processing.
            - `cropping` contains settings regarding image cropping.
                - `enabled` determines whether image cropping is enabled in pre-recorded mode.
                - `left_margin` determines how many pixels will be cropped off of the left side of the frame.
                - `right_margin` determines how many pixels will be cropped off of the right side of the frame.
                - `top_margin` determines how many pixels will be cropped off of the top of the frame.
                - `bottom_margin` determines how many pixels will be cropped off of the bottom of the frame.
    - `max_gpx_time_difference`
        - This value is a number that determines the maximum time, in seconds, between the timestamp of a video frame and an entry in the corresponding GPX file, before they are considered to be different.
        - Setting this to lower values will force locations to be more accurate, but will increase the likelihood that no corresponding location is found for a given frame.
- `realtime` contains settings related to real-time mode.
    - `interface` contains settings related to the command line interface.
        - `display` contains settings related to what information is displayed.
            - `show_validation` is a boolean that determines whether or not Predator will print every guess it makes as to the contents of a license plates until it reaches a valid guess.
                - This setting doesn't change anything practically, but makes it easier to understand how Predator is filtering invalid license plate guesses.
            - `shape_alerts` is a boolean that determines whether or not large ASCII shapes will be printed to the console to indicate certain important events at a glance.
            - `output_level` is an integer that determines how verbose Predator's console output will be.
                - This setting only has 3 different options.
                    - Level "1": Only alerts are displayed.
                    - Level "2": Only detections and other important events are displayed.
                    - Level "3": All messages are displayed.
            - `speed_display` contains settings related to displaying the current GPS speed. These settings are only applicable when the `general>gps>enabled` setting is set to `true`.
                - `enabled` is a boolean value that determines whether Predator will display the current speed at the beginning of each processing round.
                - `unit` determines the unit of measurement that Predator will display the current speed in. This can only be set to one of the following values:
                    - `"mph"` for miles-per-hour
                    - `"kph"` for kilometers-per-hour
                    - `"mps"` for meters-per-second
                    - `"fps"` for feet-per-second
                    - `"knot"` for knots
        - `behavior` contains settings related to how information is displayed.
            - `delays` contains values related to delays between processing rounds.
                - `alert` is a decimal number that determines how long Predator will delay before starting the next round when there is an active alert.
                - `normal` is a decimal number that determines how long Predator will delay before starting the next round under normal circumstances.
            - `clearing` is a boolean that determines whether or not Predator will clear the output screen between analysis rounds during real-time mode.
    - `object_recognition` contains settings related to object recognition in real-time mode.
        - `enabled` is a boolean value that enables and disables object recognition in real-time mode.
            - This setting does not override the `general>object_recognition>enabled` setting.
        - `video_still_path` is an absolute file-path to the image Predator should run object recognition on.
            - By default, Phantom stores video stills from the capture device stream to `/dev/shm/phantom-webcam.jpg`, so that is where this setting should point to in most cases.
    - `gps` contains settings related to GPS-based features in real-time mode.
        - `alpr_location_tagging` is a boolean that determines whether or not the current GPS location will be saved to the log file each time a plate is logged.
    - `image` contains settings related to image handling.
        - `camera` contains settings related to image capture.
            - `device` specifies the camera device that will be used to capture images.
                - Example: `"/dev/video0"`
    - `saving` contains settings related to information logging while operating in real-time mode.
        - `license_plates` contains settings related to saving detected license plates.
            - `enabled` is a boolean value that determines whether license plate saving is enabled.
            - `file` is a string that determines the JSON file name Predator will use to save the license plates it detects in real-time mode.
                - This file is created in the working directory.
                - Example: `"plate_history.json"`
            - `save_guesses` determines whether or not Predator will save all guesses for each license plate to the license plate log file.
                - When set to `false`, only the top guess will be logged. All other guesses will not be saved.
        - `object_recognition` contains settings related to saving detected objects.
            - `enabled` is a boolean value that determines whether object recognition saving is enabled.
            - `file` is a string that determines the CSV file name Predator will use to save the objects it detects in real-time mode.
                - This file is created in the working directory.
                - Example: `"object_recognition_log.csv"`
    - `push_notifications` contains settings related to Gotify push notifications.
        - `enabled` is a boolean value that determines whether push notifications are enabled.
        - `server` is a string that specifies the Gotify server that Predator will attempt to use. It should include the protocol and port number.
            - Example: `"http://server.tld:8032"`
        - `token` is a string that specifies the Gotify application token that Predator will attempt to use to send notifications through the specified Gotify server.
            - Example: `"AJrhgGs83mL22kZ"`
- `dashcam` contains configuration values related to dash-cam mode.
    - `saving` contains settings related to "locking" dashcam video during important events.
        - `directory` is a string that sets the name of the directory where Predator will store locked dashcam video segments.
            - This directory is placed into the working directory.
            - Example: `"saved_dashcam_video"`
        - `file` contains settings for configuring the output video files.
            - `codec` is the codec used to encode video. Below are common video codecs:
                - "XVID" is used for'.avi' files, and is the default option.
                - "MP4V" is used for '.mp4' files, and is great for video player compatability.
                    - Note that this codec will often result in the current vidoe segment being lost in the event of a sudden power loss.
            - `extension` is the video file extension (not including the dot).
                - When audio/video merging is enabled, the resulting file will always have the "mkv" extension, irrespective of this setting.
        - `trigger` is the name of a file inside the interface directory that will trigger Predator to save the current and previous dashcam segments.
            - To trigger a save, create this file in the interface directory. Predator will save the video then automatically remove the trigger file.
            - Predator will check for the presence of this file at the end of each segment, and copy the relevant files to the saving directory.
        - `segment_length` is a number that sets how many seconds long each video segment will be before another segment is created.
        - `looped_recording` contains settings that control how and when Predator will erase old dashcam segments to make space for new ones.
            - `mode` determines the method by which Predator determines how to erase old files. This can only be set to one of 3 strings:
                - In "automatic" mode, Predator uses the percentage of free disk space to determine when files need to be erased.
                - In "manual" mode, Predator uses a fixed maximum number of files that will be kept, after which, old videos will start being erased.
                - In "disabled" mode, Predator doesn't erase old files. This is not recommended, since it will cause Predator to run until there is no disk space remaining, at which point it will crash.
            - `manual` contains settings for controlling how Predator erases video in manual mode.
                - `history_length` is a positive integer that determines how many unsaved videos Predator will keep.
                    - Once this limit is reached, older unsaved videos will be progressively removed to stay under the threshold.
                    - This value should be set to a number greater than 2.
                        - Values less than 2 are likely to cause unexpected behavior, especially when saving videos with the trigger file.
                    - This setting has no impact on videos that have been saved using the trigger file.
            - `automatic` contains settings for controlling how Predator erases video in automatic mode.
                - `minimum_free_percentage` is a fraction that determines the minimum free disk space required before Predator starts erasing old segments.
                    - For example, setting this to `0.2` will instruct Predator to erase old files if the total disk usage exceeds 80% of the total disk size.
                    - Disk usage includes the entire disk, not just the Predator working directory.
                - `max_deletions_per_round` is an integer number that determines the maximum number of files that Predator will delete at a time.
                    - This is prevents Predator from erasing too many dashcam segments if something goes wrong with the disk usage analysis.
        - `framerate_snap` is a floating point number that determines the distance from the maximum framerate, above which the output file's framerate will "snap" to the maximum.
            - For example, if this value is set to 0.2, then a file recorded at 29.85 with a maximum configured framerate of 30fps will round up to the 30fps limit, since the difference between 30 and 29.85 is less than 0.2.
            - This is useful for enforcing consistent video playback framerate, even with slight variation.
            - Setting this to higher values will reduce the accuracy of the playback speed. Videos may play back faster than they were recorded.
    - `capture` contains settings related to the capturing of dashcam video.
        - `video` contains settings for configuring Predator's video recording behavior.
            - `devices` is a list that contains the camera devices Predator will use when recording video in dash-cam mode.
                - `index` is the capture device identifier. This is an integer number, and is typically the same as the number at the end of the `/dev/video` file associated with the device.
                    - For example, if your camera is connected to your system as `/dev/video2`, its index would be `2`.
                - `enabled` determines if this capture device is enabled. Changing this to false will disable the capture device.
                - `flip` is a boolean that determines if this camera's output will be rotated 180 degrees.
                    - This is useful if the camera is mounted upside down.
                - `codec` is the 4 character codec identifier that will be used to capture video.
                    - In most cases, setting this to `"MJPG"`  is a safe option.
                - `framerate contains settings that control this device's framerate. Note that Predator uses variable framerate, so these settings only specify the range that Predator will attempt to use.
                    - `max` is the maximum frame-rate (measured in frames per second) that Predator will allow this camera to run at.
                        - If this frame-rate is exceeded, Predator will throttle the frame-rate to stay under the limit.
                        - This value is useful for making the frame-rate more consistent between segments, or reducing processor utilization.
                    - `min` is the minimum frame-rate (measured in frames per second) that you expect this camera to run at.
                        - If the frame-rate falls below this value, Predator will display a warning.
                        - Adjusting this value has no effect on the actual frame-rate, only the point at which warnings are displayed.
                - `resolution` sets the resolution of the video captured by this device.
                    - `width` sets the width of the video, measured in pixels.
                    - `height` sets the height of the video, measured in pixels.
        - `audio` contains settings for configuring Predator's audio recording behavior.
            - `enabled` is a boolean that determines whether or not audio will be recorded during dash-cam operation.
            - `extension` sets the file extension that audio will be saved with.
            - `device` determines the name of the device that Predator will use to record audio.
                - You can get a list of the names of the available sound inputs by running the `arecord -L` command.
                - Leaving this value as a blank string will cause Predator to use the default audio input determined by `arecord`.
            - `format` specifies the format that will be used by the `arecord` process.
            - `rate` is an integer that specifies the audio sample rate in Hz (16000, 44100, 48000, etc.)
            - `merge` is a boolean that determines whether or not Predator will merge the separate audio and video files when each segment is done recording.
                - This setting is ignored during parked event recording, and audio/video is always saved separately.
            - `record_as_user` specifies the user on the system that the audio recording process will be run as.
                - This is useful if the user you normally run Predator with does not have permission to access audio devices.
            - `start_delay` determines a length of time (in seconds) that Predator will wait before starting audio recording for each segment.
                - This delay allows the audio capture device to be release by the previous segment before it is re-opened for the current segment.
                - This value should be as short as possible to reduce the period of silence at the start of each video, but not so short that the audio capture device fails to open due to being already claimed by the previous segment.
            - `display_output` is a boolean that determines whether Predator will display the console output of the audio recording command for sake of debugging.
                - Under normal circumstances, this should be set to `false` to avoid unexpected behavior.
    - `parked` contains settings to configure the dashcam's parking behavior. Parking mode is experimental, and not recommended for daily use.
        - `enabled` is a boolean that determines whether Predator will ever go into a parked state.
            - When this value is set to `false` Predator will never enable parked mode, even if the conditions defined in this configuration section are met.
            - For parking mode to be enabled, GPS must also be enabled in the "general" section.
        - `conditions` contains settings that determine when Predator will consider the vehicle to be parked.
            - `speed` is the speed at which Predator will consider the vehicle to be stopped, measured in meters per second.
            - `time` is the length of time, in seconds, that the vehicle needs to be below the speed threshold for Predator to consider the vehicle to be parked.
                - This value should be long enough that Predator doesn't consider the vehicle to be parked while at red lights or in traffic, but short enough that parking mode will be activated within a reasonable amount of time of the vehicle being parked.
        - `recording` contains settings that control how Predator will record video while parked.
            - `highlight_motion` contains settings that control if/how Predator will highlight motion while running motion detection.
                - `enabled` is a boolean that determines whether Predator will draw bounding boxes around detected motion while parked.
                - `color` is a list that determines the color of the bounding boxes, where the first, second, and third values represent the red, green, and blue channels respectively.
            - `sensitivity` determines the fraction of the screen that motion needs to cover to trigger recording, ranging from 0 to 1.
                - For example, a value of `0.05` would require that motion cover 5% of the entire field of view of the camera in order to activate recording.
                - Lower values make Predator more sensitive to motion, since less motion is required to trigger recording.
                - You can use the `tools/motion_detect_test.py` script to test this setting to find the best value for your use case.
            - `timeout` determines the length of time, in seconds, after motion is detected, that Predator will record video while parked.
            - `buffer` determines the number of frames that Predator will keep in a buffer. These frames will be added to the beginning of videos triggered by motion detection.
    - `notifications` contains settings to control how Predator issues notifications about dashcam events.
        - `reticulum` controls LXMF notifications over the Reticulum networking protocol.
            - `enabled` is a boolean value that determines whether or not Reticulum LXMF notifications are enabled.
            - `destinations` is a list of strings, where each entry is a LXMF recipient address where notifications will be sent to.
            - `identity_file` is a string, and determines the absolute file-path of where Predator will store its Reticulum identity file.
                - This file will be generated automatically if it does not exist.
            - `instance_name` is a string that determines a friendly name that will be used to identify this instance of Predator in the content of notifications.
                - This will be appended to the beginning of notifications. For example, when motion is detected, the following format might be used: "[instance_name] has detected motion while parked."
            - `events` contains individual controls to enable and disable notifications for certain events.
                - `start_up` is triggered when Predator starts dash-cam recording.
                - `motion_detect` is triggered when Predator detects motion while parked.
                - `parking_mode_enabled` is triggered when Predator enters parking mode.
                - `parking_mode_disabled` is triggered when Predator exits parking mode.
    - `stamps` contains several configurable stamps that can be overlaid on the video recording.
        - `main` contains configuration values for the main stamp shown at the bottom of the frame.
            - `color` is a list of three values between 0 and 255 that determines the font cover of the overlay stamp.
                - The first value represents red, the second value represents green, and the third value represents blue.
            - `unix_time` contains settings for configuring Predator showing the number of seconds since the Unix epoch in the video overlay stamp.
                - `enabled` is a boolean value that determines whether the Unix timestamp will be displayed at all.
            - `date` contains settings for configuring the date video overlay stamp.
                - `enabled` is a boolean value that determines whether Predator will show the current date in the video overlay stamp.
            - `time` contains settings for configuring the time video overlay stamp.
                - `enabled` is a boolean value that determines whether Predator will show the current time in the video overlay stamp.
            - `message_1` is a string that is intended to display a short custom message. This is often set to the license plate of the car Predator is installed in.
            - `message_2` is a string that is intended to display a short custom message. This is often set to "Predator", or another name identifying the system the dashcam is running on.
        - `diagnostic` contains configuration values for the stamp show just above the 'main' stamp on the bottom row, showing system information.
            - `color` is a list of three values between 0 and 255 that determines the font cover of the overlay stamp.
                - The first value represents red, the second value represents green, and the third value represents blue.
            - `framerate` contains settings for configuring Predator showing the instantaneous framerate in the video overlay.
                - `enabled` is a boolean that determines if this overlay is enabled or disabled.
                - `mode` is a string that determines which method is used to display the frame-rate.
                    - This value can only be set to one of the following values:
                        - "instant" is the instantaneous frame-rate, calculated based on the time between the current frame and the previous frame. This value is inaccurate, but updates every frame.
                        - "average" is the average frame-rate, calculated based on the number of frames captured in the previous segment.
                        - "hybrid" uses the short-term frame-rate, calculated by average frame-rate over a short period of time.
                - `precision` is an integer number that determines how many decimal places the frame-rate will be displayed to.
            - `state` contains settings for configuring if/how Predator shows the current operating mode as an overlay stamp.
                - `enabled` is a boolean that determines if this overlay stamp is enabled.
                - When enabled, this overlay stamp adds one of the following values to the overlay stamp:
                    - "NN" for normal recording.
                    - "NS" for normal recording when the current segment is being saved to the event folder.
                    - "PD" for parked recording while the system is dormant, and waiting for motion to trigger recording.
                    - "PA" for parked recording while the system is actively recording an event.
        - `gps` contains configuration values for the stamp shown at the top of the frame, containing location information.
            - `color` is a list of three values between 0 and 255 that determines the font cover of the overlay stamp.
                - The first value represents red, the second value represents green, and the third value represents blue.
            - `location` contains settings for configuring the GPS coordinate overlay stamp.
                - `enabled` is a boolean value that determines whether Predator will include the current location in the GPS overlay stamp.
            - `altitude` contains settings for configuring the GPS altitude overlay stamp.
                - `enabled` is a boolean value that determines whether Predator will include the current altitude in the GPS overlay stamp.
            - `speed` contains settings for configuring the GPS speed overlay stamp.
                - `enabled` is a boolean value that determines whether Predator will include the current speed in the GPS overlay stamp.
                - `unit` is a string that determines what unit of speed Predator will use for the speed overlay stamp.
                    - This value can only be set to one of the following values:
                        - `"mph"` for miles-per-hour
                        - `"kph"` for kilometers-per-hour
                        - `"mps"` for meters-per-second
                        - `"fps"` for feet-per-second
                        - `"knot"` for knots
        - `alpr` contains settings for controlling if and how Predator runs ALPR in the background while dashcam recording. Note that this feature will not run ALPR at the same performance as the dedicated real-time ALPR mode.
            - `enabled` is a boolean that determines if Predator will run ALPR in the background on dashcam threads.
                - When set to `false`, dashcam recording will continue as normal without ALPR.
                - When set to `true`, dashcam recording will run with ALPR analysis on a separate thread.
            - `devices` is a list that contains device IDs from the `dashcam>capture>video>devices` section of the configuration that will be used in ALPR.
                - Only devices specified in this list will run ALPR.
                - If you have a capture device that will never realistically see a license plate (for example, an interior facing camera), you should omit it from this value to reduce unnecssary processing load.
        - `physical_controls` contains settings for configure physical controls via GPIO pins.
            - `dashcam_saving` contains settings to trigger dash-cam saving using a GPIO button.
                - Each entry in this configuration section uses the GPIO pin number as a key, and contains the following values:
                    - `name` is a human friendly name for the pin, and can be set to any plain text string.
                    - `hold_time` is a floating point number that determines the number of seconds the button needs to be held to trigger the event.
            - `stop_predator` contains settings to terminate Predator via GPIO pins.
                - Each entry in this configuration section uses the GPIO pin number as a key, and contains the following values:
                    - `name` is a human friendly name for the pin, and can be set to any plain text string.
                    - `hold_time` is a floating point number that determines the number of seconds the button needs to be held to trigger the event.
        - `telemetry` contains settings for configuring Predator to send telemetry data like dash-cam images and GPS data to an external service (see [docs/INTEGRATION.md](docs/INTEGRATION.md) for more information).
            - `enabled` is a boolean that determined whether telemetry sending is enabled.
            - `target` is the network target that telemetry data will be submitted to.
            - `vehicle_identifier` is the identifier used to authenticate with the external service.
            - `save_failed_updates` is a boolean that determines whether Predator will store failed telemetry submissions, and attempt to automatically re-upload them later.
                - When enabled, a file named `telemetry_backlog.json` will be created in the working directory.
            - `send_images` is a boolean that determines whether Predator will upload the current frame of each capture device every time telemetry is uploaded.
                - Setting this to `true` will dramatically increase data usage, and may cause frame rate drops without sufficient processing power.
- `developer` contains technical configuration values that developers and experienced users might be interested in.
    - `ignore_list` contains settings for configuring a list of license plates that Predator will ignore.
        - `enabled` is a boolean that determines whether custom ignore lists are enabled or disabled.
            - This does not disable any hard-coded remote ignore lists services that may be in place from the system administrator. To completely disable remote ignore lists, set the `offline` configuration value to `true`.
        - `local_file` is a string that specifies the absolute path to a local file to be used as an ignore list.
            - If you don't want to use a local ignore list file, this value can be left blank to disable it.
        - `remote_sources`
            - This setting defines a list of custom remote hosts that Predator will attempt to fetch ignore lists from.
            - These sources will be disabled if the `offline` developer configuration value is enabled.
    - `offline` is a boolean that controls whether Predator is forced to run offline. When set to true, all network functions are disabled, even if Predator is connected to the internet.
        - To be clear, this setting does not need to be changed if you want to run Predator offline. If no internet connection is available, Predator will automatically adjust accordingly.
        - Enabling this will break any functionality that depends on network features, even LAN based features that don't require an internet connection. Notably, push notifications and status lighting will be disabled.
    - `kill_plate` is a string that specifies a plate that will cause Predator to immediately exit, when detected.
        - This can be used for debugging purposes, when Predator is hard-installed, and the hardware can't easily be accessed.
        - During normal circumstances, this should be set to a a blank string in order to disable the kill plate feature.
    - `print_timings` is a boolean that determines if Predator will print timers showing how much CPU time was spent on each category of process.
        - The timers tracked by this setting don't necessarily represent the true CPU time. Rather, they are intended to keep track of what processes are causing threads to delay. As such, they typically don't keep track of how long sub-threads take the complete, only how long it took to process those threads in the parent thread.
        - When this value is set to `false`, Predator will no longer keep track of timers in the background.
    - `dashcam_saving_queue_overflow` is a positive integer number that determines how many frames can be stacked up in the queue to be written to disk before a warning is triggered.
        - If the storage medium being used to store dash-cam videos is particularly slow, the video capture might out-run writing the video to disk.
        - If the video capture is faster than the video writing, then the queue will continuously grow until video capture is stopped. As such, you can safely set this value to something fairly high without worrying about missing warnings.
        - Ideally, the queue size will never exceed 1 frame during normal recording, but it may occasionally reach higher values in between segments. However, if buffered parked recording is enabled, then the size of the frame queue will briefly match the size of the frame buffer. As such, you should make sure this value is set higher than the parked recording frame buffer configuration value.
    - `dashcam_shortterm_framerate_interval` is a positive decimal number that determines the interval (in seconds) over which Predator will calculate the short-term frame-rate.
        - Higher (longer) values will cause the short-term frame-rate to be more accurate, while lower (shorter) values will cause the short-term frame-rate to update more frequently.
        - This short-term frame-rate is currently only used for visual purposes, and does not effect output files.
    - `hard_crash_on_error` is a boolean that determines whether Predator will globally exit if an error is encountered. This is useful if you run Predator as an unmonitored headless service, and you want to force it to restart when an error is encountered.
        - Keep in mind that enabling this configuration option will cause Predator to boot-loop if the problem that caused the error isn't resolved between start-ups.
    - `identify_to_remote_sources` determines whether Predator will attach its randomly generated identifier when fetching hot-lists from remote sources. This is helpful to allow administrators of remote hot-list sources to see how many clients are using their server.
        - If you don't control the servers in your remote hot-list sources, you may consider disabling this feature to make it more difficult to identify you.
    - `frame_count_method` determines the method by which Predator will count frames in video files during side-car file generation in pre-recorded mode.
        - This value can only be set to one of the following strings:
            - "opencv" uses the built in OpenCV method to count frames. This method is very efficient, but may produce unexpected results on certain systems.
            - "ffprobe" uses the FFProbe command. This method is very efficient, but may not support all video formats, and may produce unexpected results on certain systems.
            - "manual" will load the video with OpenCV, and manually count each valid frame. This method is extremely accurate, but takes significantly longer than the alternative methods.
